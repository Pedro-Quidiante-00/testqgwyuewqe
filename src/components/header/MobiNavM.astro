---
import { Icon } from 'astro-icon/components';

interface Props {
    text: string;
    icon: string;
    submenu: { href: string; icon: string; text: string; }[];
}
const { text, icon, submenu } = Astro.props;
const slug = text.toLowerCase().replace(/\s+/g, '-');
---
<li>
    <button class="mobile-submenu-trigger w-full menu-mobi-sp" data-target={slug}>
    <span class="flex items-center">
      <Icon name={icon} class="w-5 h-5 mr-3" />
        {text}
    </span>
        <Icon name="arrow" class="w-4 h-4 transition-transform duration-300 mobile-arrow" />
    </button>
    <div id={`submenu-${slug}`} class="overflow-hidden max-h-0 transition-[max-height] duration-300 ease-in-out mx-8 mt-0">
        <div class="pt-2 space-y-1">
            {submenu.map((item) => (
                    <a href={item.href} class="menu-mobi-sp">
                        <Icon name={item.icon} class="w-4 h-4 mr-2" />
                        {item.text}
                    </a>
            ))}
        </div>
    </div>
</li>